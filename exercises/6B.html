---
title: Homework for 6B
layout: exercise
prev: 6A
next: 7A
permalink: /exercises/6B.html
answers_shown: true
---
<h1>Review</h1>
<p>
  <b>Topics Covered:</b> Databases and tables; Rails models; ActiveRecord; working with Rails models in <code>rails console</code>.
</p>
<hr class="large">
<h1>Exercises</h1>
<h2>E1: ActiveReview</h2>
<p>
  Again, we went over a lot of methods! Make sure you understand what each one returns, and whether they are a <b>class</b> or <b>instance</b> method. Look them up if you forgot—thankfully, Rails has really good documentation with APIDock.
  <ul>
    <li><code>.all</code></li>
    <li><code>.first</code></li>
    <li><code>.new</code></li>
    <li><code>.find</code></li>
    <li><code>.find_by</code></li>
    <li><code>.where</code></li>
    <li><code>.save</code></li>
    <li><code>.update_attributes</code></li>
    <li><code>.destroy</code></li>
  </ul>
</p>
<p>
  What's the difference between <code>.find</code> and <code>.find_by</code>?<br>
  What's the difference between <code>.where</code> and <code>.find_by</code>?
</p>
{% if page.answers_shown %}
<a class="hover-show pull-right">Hover for answer</a>
<div class="hover-hide">
  <p>
    The first set of methods will be left for you to look up.
  </p>
  <p>
    <code>find</code> takes one parameter, an integer, which is the ID of the resource. e.g. <code>Tweet.find(1)</code> gets the tweet with ID 1. <code>find_by</code> takes a <b>hash</b>, that has the parameter and a value, something like <code>Tweet.find_by(:handle => "fizzcan")</code>.
  </p>
  <p>
    <code>.find_by</code> returns <b>just the first</b> matching entry, whereas <b>.where</b> returns all matching entries.
  </p>
</div>
{% endif %}
<h2>E2: ActiveQuiz</h2>
<p>
  <ol>
    <li>What is a database?</li>
    <li>What is a database table? How does it relate to a database? What's a good analogy for a database table (i.e. a way to visualize it)?</li>
    <li>Draw the <code>tweets</code> database table</li>
    <li>Why do we use models/resources at all?</li>
    <li>What is ActiveRecord?</li>
    <li>What's the difference between a database table, resource and an ActiveRecord model?</li>
  </ol>
</p>
<!-- Answers for E2 -->
{% if page.answers_shown %}
<a class="hover-show pull-right">Hover for answer</a>
<div class="hover-hide">
  <p>
    <ol>
      <li>A database is a file on your computer that stores the literal 0s and 1s that represent your data.</li>
      <li>A database table is a section of the database that corresponds to a particular resource, or logical entity (for example, tweets). We can think of a table like an Excel spreadsheet, with each column being an <em>attribute</em> (like the body of the tweet), and each row being an <em>instance</em> (one particular tweet)</li>
      <li>Should look like a spreadsheet with three columns: ID, handle and body. Should have three rows with IDs 1, 2, 3 and some handles and bodies in the corresponding columns.</li>
      <li>We use them to help us reason and think about our database. It's hard to always keep the spreadsheet in our heads, and it makes more sense to us to think about it as one class that has methods. <b>This step, from database to model, was very important in making web development easier and more accessible</b>.</li>
      <li>ActiveRecord is a module that is included in Rails. It makes creating models easier because when a model extends <code>ActiveRecord::Base</code> (which is a class—confusing, we know), it gets all the methods in E1 and more for free!</li>
      <li>A database table just contains 0s and 1s. An ActiveRecord model is a class, with methods and all, that's created in <code>app/models</code>. A resource is a model along with its controller and views. You can think of it as the conceptual or logical entity that represents the model. The model is the actual code that communicates with the database. This is <b>very difficult</b> to keep track in your head, so you may have to revisit these concepts as you learn more of Rails.</li>
    </ol>
  </p>
</div>
{% endif %}

<h2>E3: Tweet Console</h2>
<p>
  Fire up <code>rails console</code>. Then do the following things:
  <ul>
    <li>Create a tweet.</li>
    <li>Find it with the <code>Tweet.find</code> method</li>
    <li>Find it by user with <code>Tweet.where(:user => "...")</code></li>
    <li>Find it by user with <code>Tweet.find_by(:user => "...")</code></li>
    <li>Describe to yourself what the difference is between those two methods.</li>
    <li>Update that tweet to have a different tweeter name. Is this possible?</li>
    <li>Update that tweet to have a different body. Is this possible?</li>
    <li>Update that tweet to have a different id. Is this possible?</li>
    <li>Delete that tweet</li>
  </ul>
</p>
<h4>Tweet tweet</h4>
<p>
  A bit harder now:
</p>
<ul>
  <li>Create 10 Tweets programmatically, each with a different user and different body. You might want to write pseudo-code first!</li>
  <li>Destroy them all.</li>
  <li>Create 10 more the same way. Find the 4th one.</li>
  <li>Update all of them to have the body "iX TAs rock!"</li>
  <li>Update the fourth one to to have the body "And the teacher rocks sometimes, too".</li>
</ul>
<h2>E4: Keep Retweeting</h2>
<p>
  Again, rebuild the Twitter app from scratch. This time:
  <ul>
    <li>Add a header and footer to your <code>app/views/layouts/application.html.erb</code>, but make them partials and render with <code><%= render :partial => "header" %></code></li>
    <li>Expand <code>User</code> to have email, password, bio, and any other fields you think would be necessary.</li>
    <li>Similarly, add any fields to the <code>Tweet</code> model that you think might be useful.</li>
    <li>
      Change the <code>form_for</code> in the appropriate partials to use the right input fields. For example, for your user's email fields, you might use a <code>&lt;input type="email"&gt;</code>, but it might look like a <code>f.something_tag</code>.
    </li>
  </ul>
</p>
<h4>Testing</h4>
<p>
  Just because we've moved past Ruby doesn't mean you should lose the coding principles that you learned there. Keep checking for edge cases, and verifying that your app is working the way it's supposed to. 
</p>
<h2 class="bonus">E5: Likey Likey</h2>
<p>
  How would you find all Tweets that have the word "awesome" in them? How would you find all Tweets that have words <em>like</em> "awesome" in them (<em>like</em> meaning "awesum" or "awesick", not synonyms like "cool" or "great")?
</p>
<hr class="large">

<!-- Projects -->
<h1>Projects</h1>
<h2>The Real Deal</h2>
<p>
  Now that you have some features, you want to come up with <b>user stories</b>, or typical workflows for all the types of actions. For our Twitter app, there are several that come to mind: A new user signing up, signing in, someone posting something, someone browsing tweets, following another user, etc.
</p>
<pre><code>...continuing from your previous document...

## User Stories

#### Sign up

1. User visits site
2. User clicks "Sign up"
3. User fills in name, email, password
4. User clicks "Submit"
  - If all is ok:
    - User is directed to home page
  - If email is invalid
    - User is shown an error message
  - If password is too short
    - User is shown an error message

#### Sign in

1. User visits site
2. User clicks "Sign in"
3. User fills in email and password
4. User clicks "Submit"
  - If email and password match
    - User is directed to main page
  - Otherwise
    - User is shown error message

#### Create a tweet

...

#### Follow a person

...

#### Search for a person

...

#### Search for tweets

...</code></pre>
<p>
  It might seem extremely verbose, but this a way of pseudo-coding applications: just like writing small programs, large apps need a lot of planning, too. This allows you to foresee a lot of problems that you may not have thought about. How exactly do I do a search? How do I render the results? And questions like that.
</p>
<p>
  Tomorrow, you'll present your idea, features and stories in front of the whole class, and the class will give you back feedback on problems they see. Put yourself in their shoes and think "If I were a user of my app, what would I improve?". It's much better to decide that your idea should be changed/improved/scrapped now, after only hours of work, instead of after days or even weeks of work. 
</p>
<h4>Mockups</h4>
<p>
  Since you guys have learned relatively more of HTML/CSS, you may want to start mocking up your interface. For each user story, you're going to want a screen for the user to perform those actions. Some designers like to draw on paper—you might go that route. Some like to sketch things in Photoshop or Illustrator, and if you have that software and are comfortable using it, then do that. But most coders are not superb drawers, so they like an online interface. We'd recommend <a href="http://balsamiq.com/" target="_blank">Balsamiq</a> or <a href="https://gomockingbird.com/" target="_blank">Mockingbird</a>. 
</p>
