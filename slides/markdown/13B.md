# Search, AJAX and Pagination

---

## Searching

* As your application data grows, you will be working with larger and larger lists of data
* For example: product lists, tag lists, user lists
* You want to simplify navigation of the data for your users
* A good solution: Search

---

## How do we Search data?

* The simplest search operates in a single field (e.g. for products, searching by name)
* We want to do something similar to an ActiveRecord ```where('name = ?', 'something')```, but we don't want to restrict to *exact* matches only
* To facilitate this, SQL provides a special operator: ```LIKE```, which you can use to find similar matches
* You could use LIKE to match a search of 'us', to "Us", "USA", "prune", and so on

---

## How do we implement search?

1. (__VIEW__) We need to add a text field to take the search input
2. (__CONTROLLER__) We need to modify our controller actions to *handle* a search query from our form
3. (__MODEL__) We need to filter the data we display to only show matches from our query

---

## Code-Along: Basecamp Search

Let's add a search box to filter the list of Items we display for a given Project.

---

## Adding Items with AJAX

* Occasionally we want to provide the user with a quick and easy way to add data to our application
* Rather than an entirely separate page to add an Item to a list, we want a simple box in the index page
* When the user clicks "Add", the item should be added in-place, without refreshing the page

---

## That sounds great...
### ...but what is AJAX?

* AJAX: Asynchronous Javascript and XML
* Essentially, it is a protocol supported by browsers which allows you to make requests in the 'background' using JS
* The response is then served back to the JS, and it can update the HTML without refreshing the page
* This is a common paradigm used to build 'snappy' applications that feel more responsive

---

# Code-Along: Basecamp AJAX Item Addition

Let's add a form to add a new Item from within the Project page, using AJAX to do so without a refresh.

---

# Too many items?

* Occasionally, even with Search in place, the number of matches is simply too many to display at once
* We can use __pagination__ to help the user navigate a reasonable amount of data at once

---

# How do we implement pagination?

* There are many ways to do so, but a very popular solution is to use the __will-paginate__ gem
* The gem handles much of the heavy lifting, and we only have to add a few declarations to get it to work

---

## Code-Along: Basecamp Pagination

Let's add pagination to filter down the list of Items displayed to the user.

---

# Exercises

[iexperience.github.io/exercises/13B.html](http://iexperience.github.io/exercises/13B.html)